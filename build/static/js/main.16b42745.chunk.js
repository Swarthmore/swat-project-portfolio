(this["webpackJsonpswat-project-portfolio"]=this["webpackJsonpswat-project-portfolio"]||[]).push([[0],{367:function(e){e.exports=JSON.parse('{"a":"0.0.1"}')},717:function(e,t,n){},718:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),i=n(15),o=n(104),s=(n(394),n(395),n(396),n(397),n(102)),d={userProfile:"users",useFirestoreForProfile:!0},j={name:"Projects @ Swarthmore"},l=n(11),u=n(164),b=Object(s.b)({firebase:l.firebaseReducer,firestore:u.firestoreReducer});o.a.initializeApp(Object(i.a)(Object(i.a)({},{apiKey:"AIzaSyDyQLHfX6av-b8p1BkvZiAR6W387AqdmT4",authDomain:"swart-project-portfolio.firebaseapp.com",projectId:"swart-project-portfolio",storageBucket:"swart-project-portfolio.appspot.com",messagingSenderId:"418686934766",appId:"1:418686934766:web:8064a0a8c9bb5f20de5dff",measurementId:"G-7HCHCYKQFS"}),d)),o.a.firestore(),o.a.analytics();var p=Object(s.c)(b,{}),O=n(28),h=n(747),x=Object(h.a)((function(e){return{root:{flexGrow:1},content:{display:"flex",flexGrow:1,background:e.palette.background.paper},children:{flexGrow:1,padding:e.spacing(4)}}})),m=n(755),f=n(756),g=n(107),v=n(22),y=n(361),w=n.n(y),k=n(752),S=n(786),N=n(4);function C(){var e=Object(l.useFirebase)(),t=Object(O.g)();return Object(N.jsx)(S.a,{title:"Logout of app",children:Object(N.jsx)(k.a,{color:"inherit","aria-label":"Logout of app",component:"span",onClick:function(){e.logout().then((function(){t.push("/")}))},children:Object(N.jsx)(w.a,{})})})}var B=n(362),P=n.n(B);function D(){var e=Object(v.b)((function(e){return e.firebase.auth})),t=Object(O.g)();return e.uid?Object(N.jsx)(S.a,{title:"View Profile",children:Object(N.jsx)(k.a,{color:"inherit","aria-label":"View Profile",component:"span",onClick:function(){return t.push("/manage")},children:Object(N.jsx)(P.a,{})})}):Object(N.jsx)(N.Fragment,{children:"no uid"})}var F=Object(h.a)((function(e){return{title:{flexGrow:1,cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),L=n(788),T=n(31),G=Object(r.createContext)({isOn:!1,toggle:function(){}}),M=function(e){var t=e.children,n=window.matchMedia("(prefers-color-scheme: dark)").matches,a=Object(r.useState)(n),c=Object(T.a)(a,2),i=c[0],o=c[1];return Object(N.jsx)(G.Provider,{value:{isOn:i,toggle:function(){o(!i)}},children:t})},A=n(753),I=n(754),E=Object(h.a)((function(e){return{root:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},on:{fontWeight:"bold",color:"#ffffff"},off:{fontWeight:"lighter",color:"#dedede"}}}));function W(){var e=E(),t=Object(r.useContext)(G),n=t.isOn,a=t.toggle;return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)("span",{className:n?e.off:e.on,children:"Light"}),Object(N.jsx)(L.a,{checked:n,onChange:a,icon:Object(N.jsx)(A.a,{}),checkedIcon:Object(N.jsx)(I.a,{})}),Object(N.jsx)("span",{className:n?e.on:e.off,children:"Dark"})]})}var R=function(){var e=Object(v.b)((function(e){return e.firebase.auth})),t=F(),n=Object(O.g)();return Object(N.jsx)(m.a,{position:"static",children:Object(N.jsxs)(f.a,{children:[Object(N.jsx)(g.a,{variant:"h6",className:t.title,color:"inherit",onClick:function(){return n.push("/")},children:j.name}),Object(N.jsx)(W,{}),Object(l.isLoaded)(e)&&!Object(l.isEmpty)(e)&&Object(N.jsx)(D,{}),Object(l.isLoaded)(e)&&!Object(l.isEmpty)(e)&&Object(N.jsx)(C,{})]})})},z=n(757),U=n(758),q=n(759),H=n(760),V=Object(h.a)((function(e){return{root:{position:"absolute",top:"20px",right:"20px",width:"400px",background:e.palette.background.paper}}}));var Y=function(){var e=Object(l.useFirebase)(),t=V();return Object(N.jsxs)(z.a,{className:t.root,children:[Object(N.jsx)(U.a,{title:j.name}),Object(N.jsx)(q.a,{children:Object(N.jsx)(H.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){return e.login({provider:"google",type:"popup"})},children:"Sign in with Google"})})]})},J=n(789),K=n(790),Q=n(761),_=Object(h.a)((function(e){return{root:{width:300,minWidth:300,borderRight:"1px solid #ccc",minHeight:"100vh"}}}));function X(){Object(l.useFirestoreConnect)([{collection:"teams"}]);var e=Object(v.b)((function(e){return e.firestore.ordered})).teams;return{loaded:Object(l.isLoaded)(e),teams:e}}function Z(){return{uid:Object(v.b)((function(e){return e.firebase.auth})).uid}}var $="/single-project/:id",ee="/projects/by-team/:id",te=Object(h.a)((function(e){return{root:{width:"100%",textAlign:"right",color:e.palette.text.secondary}}}));function ne(){var e=te();return Object(N.jsx)("div",{className:e.root,children:"\u25cf"})}var re=function(){var e=_(),t=Object(O.g)(),n=Object(O.h)().pathname,r=Z().uid,a=X(),c=a.teams,i=a.loaded;if(!r)return Object(N.jsx)("div",{children:"Not logged in"});var o=n.split("/").pop();return i?Object(N.jsx)("div",{className:e.root,children:Object(N.jsxs)(J.a,{children:[c.map((function(e){return Object(N.jsxs)(K.a,{onClick:function(){return n=e.id,void t.push(ee.replace(":id",n));var n},children:[o===e.id?Object(N.jsx)("strong",{children:e.name}):e.name,o===e.id&&Object(N.jsx)(ne,{})]},e.id)})),Object(N.jsx)(Q.a,{style:{marginTop:"5px",marginBottom:"5px"}}),Object(N.jsxs)(K.a,{onClick:function(){t.push(ee.replace(":id","all"))},children:["all"===o?Object(N.jsx)("strong",{children:"All Projects"}):"All Projects","all"===o&&Object(N.jsx)(ne,{})]}),Object(N.jsx)(Q.a,{style:{marginTop:"5px",marginBottom:"5px"}}),r&&Object(N.jsxs)("div",{children:[Object(N.jsxs)(K.a,{onClick:function(){t.push("/projects/add")},children:["add"===o?Object(N.jsx)("strong",{children:"Add Project"}):"Add Project","add"===o&&Object(N.jsx)(ne,{})]}),Object(N.jsxs)(K.a,{onClick:function(){t.push("/manage")},children:["manage"===o?Object(N.jsx)("strong",{children:"My Projects"}):"My Projects","manage"===o&&Object(N.jsx)(ne,{})]})]})]})}):Object(N.jsx)(N.Fragment,{children:"Loading"})},ae=n(784),ce=n(783),ie=Object(r.createContext)({snack:{type:"error",msg:"",open:!1},setSnack:function(){}}),oe=function(e){var t=e.children,n=Object(r.useState)({type:"error",msg:"",open:!1}),a=Object(T.a)(n,2),c=a[0],i=a[1];return Object(N.jsx)(ie.Provider,{value:{snack:c,setSnack:i},children:t})};function se(){var e=Object(r.useContext)(ie);return{snack:e.snack,setSnack:e.setSnack}}var de=function(e){var t=e.children,n=x(),r=Z().uid,a=se(),c=a.snack,i=a.setSnack,o=function(){return i({open:!1,msg:"",type:""})};return Object(N.jsxs)("div",{className:n.root,children:[!r&&Object(N.jsx)(Y,{}),Object(N.jsx)(R,{}),Object(N.jsxs)("div",{className:n.content,children:[r&&Object(N.jsx)(re,{}),Object(N.jsx)("div",{className:n.children,children:t})]}),c.open&&Object(N.jsx)(ae.a,{open:c.open,autoHideDuration:5e3,onClose:function(){return o()},children:Object(N.jsx)(ce.a,{elevation:6,variant:"filled",severity:c.type,onClose:function(){return o()},children:c.msg})})]})},je=Object(h.a)((function(e){return{root:{}}}));var le={path:"/",component:function(){return je(),Z().uid?Object(N.jsx)(O.a,{to:"projects/by-team/all"}):Object(N.jsx)("div",{children:"Login to view projects"})}},ue=Object(h.a)((function(e){return{root:{}}}));var be={component:function(){var e=ue();return Object(N.jsx)("div",{className:e.root,children:Object(N.jsx)("p",{children:"404"})})}},pe=Object(h.a)((function(e){return{root:{flexGrow:1,width:"100%"},row:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},cardGrid:{display:"flex",flexDirection:"row"},gridItem:{display:"flex",flexGrow:1}}})),Oe=n(769);function he(e){var t=e.title;return Object(N.jsxs)(g.a,{variant:"h4",gutterBottom:!0,children:[t," Projects"]})}var xe=n(53),me=n(791),fe=n(767),ge=n(768),ve=Object(h.a)((function(e){return{root:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%"},actions:{display:"flex",background:e.palette.background.paper},content:{flexGrow:1},updateDate:{flexGrow:1},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),ye=n(766),we=n(171),ke=n.n(we);function Se(e){var t=new Date(+e);return"".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}function Ne(e){return Array.from(e).sort((function(e,t){return+t.createdOn-+e.createdOn}))}var Ce=n(785),Be=n(763),Pe=n(764),De=n(765),Fe=Object(h.a)((function(e){return{root:{flexGrow:1}}})),Le=n(363),Te=n.n(Le),Ge=n(364),Me=n.n(Ge),Ae=n(762);function Ie(e){var t=e.children,n=Object(xe.a)(e,["children"]);return Object(N.jsx)(Te.a,Object(i.a)({plugins:[Me.a],children:t,components:{a:function(e){return Object(N.jsx)(Ae.a,Object(i.a)(Object(i.a)({},e),{},{color:"secondary"}))}}},n))}function Ee(e){var t=e.project,n=e.open,a=e.handleClose,c=Object(xe.a)(e,["project","open","handleClose"]),o=Fe(),s=Object(r.useRef)(null);return Object(r.useLayoutEffect)((function(){if(n){var e=s.current;e&&e.focus()}}),[n]),Object(N.jsxs)(Ce.a,Object(i.a)(Object(i.a)({className:o.root,scroll:"paper",open:n,onClose:a},c),{},{children:[Object(N.jsx)(Be.a,{children:t.name}),Object(N.jsx)(Pe.a,{children:t.markdown&&Object(N.jsx)(Ie,{children:t.markdown})}),Object(N.jsx)(De.a,{children:Object(N.jsx)(H.a,{color:"secondary",onClick:a,children:"Close"})})]}))}function We(e){return Object(N.jsx)(S.a,{title:"Read More",children:Object(N.jsx)(k.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(N.jsx)(ye.a,{})}))})}function Re(e){var t=e.tooltipMsg,n=Object(xe.a)(e,["tooltipMsg"]);return Object(N.jsx)(S.a,{title:t,children:Object(N.jsx)(k.a,Object(i.a)(Object(i.a)({},n),{},{children:Object(N.jsx)(ke.a,{})}))})}function ze(e){var t,n,a,c=e.project,o=Object(xe.a)(e,["project"]),s=ve(),d=(Object(O.g)(),Object(r.useState)(!1)),j=Object(T.a)(d,2),l=j[0],u=j[1],b=Object(r.useState)(!1),p=Object(T.a)(b,2),h=p[0],x=p[1],m=function(e){return new Date(parseInt(e)).toLocaleDateString()},f=c.updates&&c.updates.length>0?null===(t=c.updates)||void 0===t?void 0:t[0]:void 0;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ee,{project:c,open:h,handleClose:function(){return x(!1)}}),Object(N.jsxs)(z.a,Object(i.a)(Object(i.a)({className:s.root},o),{},{children:[Object(N.jsx)(U.a,{title:c.name,subheader:"".concat(c.meta.createdBy.displayName," on ").concat(m(c.meta.createdOn)),avatar:Object(N.jsx)(me.a,{src:c.meta.createdBy.avatarUrl})}),Object(N.jsx)(q.a,{className:s.content,children:f&&Object(N.jsx)(g.a,{variant:"body2",children:f.value})}),Object(N.jsxs)(fe.a,{className:s.actions,children:[Object(N.jsx)(We,{onClick:function(){return x(!0)}}),f&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(g.a,{className:s.updateDate,variant:"caption",align:"center",color:"textSecondary",children:m(f.createdOn)}),c.updates&&(null===(n=c.updates)||void 0===n?void 0:n.length)>0&&Object(N.jsx)(Re,{className:l?s.expand:s.expandOpen,onClick:function(){return u(!l)},tooltipMsg:"".concat(c.updates.length," more update").concat(c.updates.length>1?"s":"")})]})]}),c.updates&&(null===(a=c.updates)||void 0===a?void 0:a.length)>0&&Object(N.jsx)(ge.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Ne(Array.from(c.updates)).map((function(e){return Object(N.jsxs)(q.a,{children:[Object(N.jsx)(g.a,{variant:"h6",children:m(e.createdOn)}),Object(N.jsx)(g.a,{variant:"body2",children:e.value})]},e.value)}))})]}))]})}var Ue={path:ee,component:function(e){var t=pe(),n=Object(O.i)().id,r=X(),a=r.teams,c=r.loaded,o=Object(O.h)().pathname,s=[{child:"meta.createdBy",root:"users"}];Object(l.useFirestoreConnect)([Object(i.a)({collection:"projects",populates:s},n?["meta.createdBy.team","==",n]:{})]);var d=Object(v.b)((function(e){return Object(l.populate)(e.firestore,"projects",s)}));if(!Object(l.isLoaded)(d)||!c)return Object(N.jsx)("div",{children:"Loading..."});if(Object(l.isEmpty)(d))return Object(N.jsx)("div",{children:"No projects found"});var j=Object.keys(d).map((function(e){return Object(i.a)({id:e},d[e])})).filter((function(e){return"all"===n?e:e.meta.createdBy.team===n})),u="all"===o.split("/").pop()?"All":a.filter((function(e){return e.id===n}))[0].name||"Unknown";return Object(N.jsxs)("div",{className:t.root,children:[Object(N.jsx)(he,{title:u}),0===j.length&&Object(N.jsx)(g.a,{variant:"subtitle1",children:"This team doesn't have any projects posted yet"}),j.length>0&&Object(N.jsx)(Oe.a,{container:!0,spacing:3,children:j.map((function(e){return Object(N.jsx)(Oe.a,{item:!0,lg:3,className:t.gridItem,children:Object(N.jsx)(ze,{project:e})},e.id)}))})]})}},qe=n(41),He=n.n(qe),Ve=n(69),Ye=n(782),Je=Object(h.a)((function(e){return{root:{maxWidth:"500px",flexGrow:1},form:{display:"flex",flexDirection:"column"},field:{marginTop:e.spacing(1)},mdButton:{transition:"all 0.2s ease",marginTop:e.spacing(1)},button:{marginTop:e.spacing(2),maxWidth:200},markdown:{border:"1px dashed #ccc",boxSizing:"border-box",padding:e.spacing(1),marginTop:e.spacing(1)}}})),Ke=n(781);function Qe(e){var t=Object(r.useState)(e),n=Object(T.a)(t,2),a=n[0],c=n[1];return{value:a,setValue:function(){return c},reset:function(e){return c(e||"")},bind:{value:a,onChange:function(e){e.target?c(e.target.value):Date.parse(e)&&c(e.toISOString())}}}}var _e=Object(h.a)((function(e){return{root:{marginTop:e.spacing(2),maxWidth:300}}}));function Xe(e){var t=e.label,n=Object(xe.a)(e,["label"]),r=_e();return Object(N.jsx)(H.a,Object(i.a)(Object(i.a)({size:"large",variant:"contained",type:"submit",color:"primary",className:r.root},n),{},{children:t}))}var Ze="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet";var $e={path:"/projects/add",component:function(){var e=a.a.useState(!1),t=Object(T.a)(e,2),n=t[0],r=t[1],c=Object(l.useFirestore)(),o=Object(v.b)((function(e){return e.firebase.auth})),s=Je(),d=se().setSnack,j=Object(O.g)(),u=Qe(""),b=u.value,p=u.bind,h=u.reset,x=Qe(""),m=x.value,f=x.bind,y=x.reset,w=Qe(new Date(Date.now()).toISOString()),k=w.value,S=w.bind,C=w.reset,B=Qe(""),P=B.value,D=B.bind,F=B.reset;function L(e){return c.collection("projects").add(e)}function G(){h(void 0),y(void 0),C(void 0),F(void 0)}function M(){return(M=Object(Ve.a)(He.a.mark((function e(t){var n,r,a;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=o.uid.toString(),r={name:b,description:m,markdown:P,deadline:k,meta:{ownedBy:n,createdBy:n,createdOn:Date.now().toString()},updates:[]},e.prev=3,e.next=6,L(r);case 6:a=e.sent,G(),d({type:"success",msg:"Project created success",open:!0}),j.push($.replace(":id",a.id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),d({type:"error",msg:e.t0.toString(),open:!0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}return Object(N.jsxs)("div",{className:s.root,children:[Object(N.jsx)(g.a,{variant:"h3",children:"Add Project"}),Object(N.jsxs)("form",{className:s.form,onSubmit:function(e){return M.apply(this,arguments)},children:[Object(N.jsx)(Ye.a,Object(i.a)({color:"secondary",className:s.field,label:"Enter a name for your project",variant:"filled",required:!0},p)),Object(N.jsx)(Ye.a,Object(i.a)({color:"secondary",className:s.field,label:"Give your project a short description",variant:"filled",required:!0},f)),Object(N.jsx)(Ke.a,Object(i.a)({label:"Project Deadline",className:s.field,format:"MM/DD/yyyy",disablePast:!0},S)),n?Object(N.jsxs)("div",{className:s.field,children:[Object(N.jsx)(g.a,{variant:"caption",gutterBottom:!0,children:"Markdown Preview"}),Object(N.jsx)(Ie,{children:P}),Object(N.jsx)(H.a,{fullWidth:!0,size:"large",variant:"contained",onClick:function(){r(!1)},children:"Edit"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:s.field,children:[Object(N.jsx)("label",{children:"Tell us about your project. You can use Markdown, but keep it under 400 characters"}),Object(N.jsx)("br",{}),Object(N.jsx)(Ae.a,{href:Ze,target:"_blank",color:"secondary",children:"Markdown Cheat Sheet"}),Object(N.jsx)(Ye.a,Object(i.a)({className:s.field,fullWidth:!0,label:"Markdown description",rows:10,rowsMax:10,color:"secondary",variant:"filled",multiline:!0},D))]}),Object(N.jsx)(H.a,{size:"large",variant:"contained",onClick:function(){r(!0)},disabled:n,children:"Preview Markdown"})]}),Object(N.jsx)(Xe,{label:"Submit"})]})]})}},et=Object(h.a)((function(e){return{root:{flexGrow:1,paddingLeft:e.spacing(5),paddingRight:e.spacing(5)},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},card:{marginBottom:e.spacing(3)},update:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},markdown:{border:"1px dashed #ccc",boxSizing:"border-box",padding:e.spacing(1),marginTop:e.spacing(1)},skeleton:{flexGrow:1,height:300},title:{marginTop:e.spacing(5),marginBottom:e.spacing(5)},subtitle:{marginTop:e.spacing(5),marginBottom:e.spacing(5)},section:{marginTop:e.spacing(5),marginBottom:e.spacing(5)}}})),tt=Object(h.a)((function(e){return{root:{marginBottom:e.spacing(2)},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function nt(e){var t=e.onSubmit,n=a.a.useState(""),r=Object(T.a)(n,2),c=r[0],i=r[1],o=tt();return Object(N.jsxs)("div",{className:o.root,children:[Object(N.jsx)(Ye.a,{value:c,onChange:function(e){i(e.target.value.slice(0,300))},fullWidth:!0,variant:"filled",label:"Share an update about this project",color:"secondary"}),Object(N.jsx)(H.a,{className:o.button,color:"primary",variant:"contained",onClick:function(){return function(e){try{t(e),i("")}catch(n){console.error(n)}}(c)},disabled:c.length<5,children:"Post Update"})]})}var rt=n(371);var at={path:$,component:function(){var e=et(),t=Object(O.g)(),n=Object(l.useFirestore)(),r=Z().uid,a=Object(O.i)().id,c=se().setSnack;a||t.push("/");var i=a;Object(l.useFirestoreConnect)([{collection:"projects",doc:i}]);var o=Object(v.b)((function(e){return e.firestore.ordered.projects}));if(!Object(l.isLoaded)(o))return Object(N.jsx)("div",{children:"Loading..."});if(Object(l.isEmpty)(o))return Object(N.jsx)("div",{children:"Project is empty"});var s=o[0];s||c({msg:"Project not found!",type:"error",open:!0});var d=s.meta.ownedBy===r,j=function(){var e=Object(Ve.a)(He.a.mark((function e(t){var a;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={value:t,createdOn:Date.now().toString(),createdBy:r},e.next=4,n.update("projects/".concat(s.id),{updates:rt.a.firestore.FieldValue.arrayUnion(a)});case 4:c({msg:"Status update posted",type:"success",open:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({msg:e.t0.toString(),type:"error",open:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(g.a,{variant:"h1",align:"center",className:e.title,children:s.name}),Object(N.jsxs)(g.a,{variant:"subtitle1",align:"center",children:["Started on ",Se(s.meta.createdOn)]}),Object(N.jsx)(g.a,{variant:"subtitle1",align:"center",children:s.description}),d&&Object(N.jsx)(nt,{onSubmit:j}),s.updates&&s.updates.length>0&&Object(N.jsx)(g.a,{variant:"h2",align:"center",className:e.subtitle,children:"Project Updates"}),s.updates&&Ne(s.updates).map((function(t,n){return Object(N.jsxs)("div",{className:e.update,children:[Object(N.jsx)(g.a,{variant:"subtitle1",children:Se(t.createdOn)}),Object(N.jsx)(g.a,{children:t.value})]},n)})),s.markdown&&Object(N.jsx)(g.a,{variant:"h2",align:"center",className:e.subtitle,children:"About This Project"}),s.markdown&&Object(N.jsx)(Ie,{children:s.markdown})]})}},ct=Object(h.a)((function(e){return{root:{flexGrow:1},row:{marginTop:e.spacing(1),marginButton:e.spacing(1)}}})),it=Object(h.a)((function(e){return{root:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));function ot(e){var t=e.project,n=Object(xe.a)(e,["project"]),r=a.a.useState(!1),c=Object(T.a)(r,2),o=c[0],s=c[1],d=Object(O.g)(),j=it();return Object(N.jsxs)(z.a,Object(i.a)(Object(i.a)({},n),{},{children:[Object(N.jsx)(U.a,{avatar:Object(N.jsx)(me.a,{src:t.meta.createdBy.avatarUrl}),title:t.name,subheader:Se(t.meta.createdOn)}),Object(N.jsx)(q.a,{children:t.updates&&t.updates.length>0&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(g.a,{variant:"body2",color:"textSecondary",children:Se(Ne(Array.from(t.updates))[0].createdOn)}),Object(N.jsx)(g.a,{variant:"body2",color:"textSecondary",children:Ne(Array.from(t.updates))[0].value})]})}),Object(N.jsxs)(fe.a,{disableSpacing:!0,children:[Object(N.jsx)(H.a,{onClick:function(){return d.push($.replace(":id",t.id))},children:"Read More"}),Object(N.jsx)(H.a,{onClick:function(){return s(!o)},disabled:t.updates&&0===t.updates.length,style:{marginLeft:"auto"},endIcon:Object(N.jsx)(ke.a,{className:o?j.expand:j.expandOpen}),children:"Recent Activity"})]}),t.updates&&t.updates.length>0&&Object(N.jsx)(ge.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Ne(Array.from(t.updates)).map((function(e){return Object(N.jsx)(z.a,{children:Object(N.jsxs)(q.a,{children:[Object(N.jsx)(g.a,{variant:"subtitle2",children:Se(e.createdOn)}),Object(N.jsx)(g.a,{children:e.value})]})},e.value)}))})]}))}var st={path:"/projects/by-user/:id",component:function(){var e=ct(),t=Object(O.i)(),n=[{child:"meta.createdBy",root:"users"}];Object(l.useFirestoreConnect)([{collection:"projects",populates:n,where:["meta.createdBy","==",t.userId]}]);var r=Object(v.b)((function(e){return Object(l.populate)(e.firestore,"projects",n)}));return Object(l.isLoaded)(r)?Object(l.isEmpty)(r)?Object(N.jsx)("div",{children:"User has no projects"}):(console.log(r[Object.keys(r)[0]]),Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsxs)(g.a,{variant:"h3",children:["Projects by ",r[Object.keys(r)[0]].meta.createdBy.displayName]}),Object.keys(r).map((function(t){return Object(N.jsx)("div",{className:e.row,children:Object(N.jsx)(ot,{project:r[t]})},t)}))]})):Object(N.jsx)("div",{children:"Loading..."})}},dt=n(771),jt=n(237),lt=n(772),ut=n(773),bt=n(774),pt=n(775),Ot=n(776),ht=n(365),xt=n.n(ht),mt=n(366),ft=n.n(mt),gt=Object(h.a)((function(e){return{root:{flexGrow:1},descriptionCell:{flexGrow:1}}}));var vt={path:"/manage",component:function(){var e=Object(r.useState)({open:!1,project:null}),t=Object(T.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(T.a)(c,2),o=(i[0],i[1],Object(O.g)()),s=Object(l.useFirestore)(),d=Z().uid,j=gt(),u=se().setSnack;Object(l.useFirestoreConnect)([{collection:"projects",where:["meta.createdBy","==",d],storeAs:"ownedProject"}]);var b=Object(v.b)((function(e){return e.firestore.ordered.ownedProject}));if(!Object(l.isLoaded)(b))return Object(N.jsx)(N.Fragment,{children:"Loading..."});if(Object(l.isEmpty)(b))return Object(N.jsx)(N.Fragment,{children:"You have no projects"});var p=function(){var e=Object(Ve.a)(He.a.mark((function e(t,n){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),confirm("WARNING: This action is permanent. Click OK to proceed.")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,s.collection("projects").doc(n.id).delete();case 7:u({msg:"Project deleted",type:"success",open:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u({msg:e.t0.toString(),type:"error",open:!0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[n.project&&Object(N.jsx)(Ee,{project:n.project,handleClose:function(){a({open:!1,project:null})},open:n.open}),Object(N.jsx)(dt.a,{component:jt.a,className:j.root,children:Object(N.jsxs)(lt.a,{children:[Object(N.jsx)(ut.a,{children:Object(N.jsxs)(bt.a,{children:[Object(N.jsx)(pt.a,{children:"Name"}),Object(N.jsx)(pt.a,{children:"Description"}),Object(N.jsx)(pt.a,{children:"Deadline"}),Object(N.jsx)(pt.a,{children:"Created"}),Object(N.jsx)(pt.a,{children:"Actions"})]})}),Object(N.jsx)(Ot.a,{children:b.map((function(e){return Object(N.jsxs)(bt.a,{children:[Object(N.jsx)(pt.a,{children:Object(N.jsx)(H.a,{onClick:function(){return function(e){a({open:!0,project:e})}(e)},children:e.name})}),Object(N.jsx)(pt.a,{className:j.descriptionCell,children:e.description.length>100?e.description.substr(0,100)+"...":e.description}),Object(N.jsx)(pt.a,{children:e.deadline&&new Date(e.deadline).toLocaleDateString()}),Object(N.jsx)(pt.a,{children:Se(e.meta.createdOn)}),Object(N.jsxs)(pt.a,{children:[Object(N.jsx)(k.a,{onClick:function(t){return function(e,t){e.preventDefault(),o.push("/projects/edit/".concat(t.id))}(t,e)},children:Object(N.jsx)(xt.a,{})}),Object(N.jsx)(k.a,{onClick:function(t){return p(t,e)},children:Object(N.jsx)(ft.a,{})})]})]},e.id)}))})]})})]})}},yt=Object(h.a)((function(e){return{root:{maxWidth:"500px",flexGrow:1},form:{display:"flex",flexDirection:"column"},field:{marginTop:e.spacing(1)},mdButton:{transition:"all 0.2s ease",marginTop:e.spacing(1)},button:{marginTop:e.spacing(1)},preview:{border:"1px dashed #ccc",boxSizing:"border-box",padding:e.spacing(1),marginTop:e.spacing(1)},updates:{marginTop:e.spacing(2)},markdown:{border:"1px dashed #ccc",boxSizing:"border-box",padding:e.spacing(1),marginTop:e.spacing(1)}}}));var wt={path:"/projects/edit/:id",component:function(){var e=Object(O.i)(),t=Object(O.g)(),n=Object(l.useFirestore)(),a=se().setSnack;e.id||t.push("/");var c=yt(),o=Object(r.useState)(!1),s=Object(T.a)(o,2),d=s[0],j=s[1],u=[{child:"meta.createdBy",root:"users"}],b=e.id;Object(l.useFirestoreConnect)([{collection:"projects",populates:u,doc:b}]);var p=Object(v.b)((function(e){return Object(l.populate)(e.firestore,"projects",u)}));if(!Object(l.isLoaded)(p))return Object(N.jsx)("div",{children:"Loading..."});if(Object(l.isEmpty)(p))return Object(N.jsx)("div",{children:"Project is empty"});var h=Qe(p[e.id].name),x=h.value,m=h.bind,f=h.reset,y=Qe(p[e.id].description),w=y.value,k=y.bind,S=y.reset,C=Qe(p[e.id].deadline),B=C.value,P=C.bind,D=C.reset,F=Qe(p[e.id].markdown),L=F.value,G=F.bind,M=F.reset;function A(){f(void 0),S(void 0),D(void 0),M(void 0)}function I(){return(I=Object(Ve.a)(He.a.mark((function r(c){var i;return He.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),i={name:x,description:w,markdown:L,deadline:B},r.prev=2,r.next=5,n.update("projects/".concat(e.id),i);case 5:A(),a({msg:"Project updated",type:"success",open:!0}),t.push($.replace(":id",e.id)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),a({msg:r.t0.toString(),type:"error",open:!0});case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))).apply(this,arguments)}var E=function(){var r=Object(Ve.a)(He.a.mark((function r(c){var i;return He.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,i={updates:n.FieldValue.arrayRemove(c)},confirm("WARNING: This action is permanent. Proceed?")){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,n.update({collection:"projects",doc:e.id},i);case 7:a({msg:"Status update deleted",type:"success",open:!0}),t.push("/"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({msg:r.t0.toString(),type:"error",open:!0});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:c.root,children:[Object(N.jsx)(g.a,{variant:"h3",gutterBottom:!0,children:"Edit Project"}),Object(N.jsxs)("form",{className:c.form,onSubmit:function(e){return I.apply(this,arguments)},children:[Object(N.jsx)(Ye.a,Object(i.a)({color:"secondary",className:c.field,label:"Enter a name for your project",variant:"filled",required:!0},m)),Object(N.jsx)(Ye.a,Object(i.a)({color:"secondary",className:c.field,label:"Give your project a short description",variant:"filled",required:!0},k)),Object(N.jsx)(Ke.a,Object(i.a)({className:c.field,format:"MM/DD/yyyy"},P)),d?Object(N.jsxs)("div",{className:c.field,children:[Object(N.jsx)(g.a,{variant:"caption",gutterBottom:!0,children:"Markdown Preview"}),Object(N.jsx)(Ie,{children:L}),Object(N.jsx)(H.a,{fullWidth:!0,size:"large",variant:"contained",onClick:function(){j(!1)},children:"Edit"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ae.a,{href:Ze,target:"_blank",color:"secondary",children:"Markdown Cheat Sheet"}),Object(N.jsx)(Ye.a,Object(i.a)({color:"secondary",className:c.field,label:"Project Markdown",rows:"10",rowsMax:"10",variant:"filled",multiline:!0,fullWidth:!0},G)),Object(N.jsx)(H.a,{size:"large",variant:"contained",onClick:function(){j(!0)},disabled:d,children:"Preview Markdown"})]}),Object(N.jsx)(Xe,{label:"Save"})]}),Object(N.jsxs)("div",{className:c.updates,children:[Object(N.jsx)(g.a,{variant:"h5",gutterBottom:!0,children:"Updates"}),0===p[e.id].updates.length&&Object(N.jsx)(g.a,{children:"You haven't posted any updates to this project yet"}),p[e.id].updates.map((function(e,t){return Object(N.jsxs)(z.a,{children:[Object(N.jsxs)(q.a,{children:[Object(N.jsx)(g.a,{variant:"subtitle1",children:Se(e.createdOn)}),Object(N.jsx)(g.a,{children:e.value})]}),Object(N.jsx)(fe.a,{children:Object(N.jsx)(H.a,{onClick:function(){return E(e)},children:"Delete"})})]},t)}))]})]})}};var kt=function(e){var t=e.children,n=Object(v.b)((function(e){return e.firebase.auth})),r=Object(l.useFirebase)(),a=Object(O.g)(),c=se().setSnack;return Object(l.isLoaded)(n)?(Object(l.isLoaded)(n)&&n.email&&(/@swarthmore.edu\s*$/.test(n.email)||r.logout().then((function(){c({type:"error",msg:"User email must be part of the @swarthmore.edu domain",open:!0}),a.push("/")}))),t):Object(N.jsx)(N.Fragment,{children:"Loading..."})};var St=n(367),Nt=n(780),Ct=n(33),Bt=n(36),Pt=n(368),Dt=n(370),Ft=n(779),Lt=n(173),Tt=n(174),Gt=n(777),Mt=n(778),At=function(e){return Object(Dt.a)(e?{palette:{type:"dark",primary:Gt.a,secondary:Mt.a}}:{palette:{type:"light",primary:Lt.a,secondary:Tt.a}})},It=function(e){var t=e.children,n=Object(r.useContext)(G).isOn;return Object(N.jsx)(Ft.a,{theme:At(n),children:t})};var Et=function(e){var t=e.store,n=e.routes,r={firebase:o.a,config:d,dispatch:t.dispatch,createFirestoreInstance:u.createFirestoreInstance};return Object(N.jsx)(v.a,{store:t,children:Object(N.jsx)(l.ReactReduxFirebaseProvider,Object(i.a)(Object(i.a)({},r),{},{children:Object(N.jsx)(M,{children:Object(N.jsx)(It,{children:Object(N.jsx)(oe,{children:Object(N.jsx)(Bt.a,{utils:Pt.a,children:Object(N.jsxs)(Ct.a,{children:[Object(N.jsx)(Nt.a,{}),n]})})})})})}))})},Wt=(n(717),document.getElementById("root"));c.render(Object(N.jsx)(Et,{store:p,routes:Object(N.jsx)(de,{children:Object(N.jsx)(kt,{children:Object(N.jsxs)(O.d,{children:[Object(N.jsx)(O.b,{exact:!0,path:le.path,component:le.component}),[$e,wt,Ue,at,st,vt].map((function(e,t){return Object(N.jsx)(O.b,Object(i.a)({},e),t)})),Object(N.jsx)(O.b,{component:be.component})]})})})}),Wt);var Rt=[j.name,St.a].join(" ");window.document.title=Rt}},[[718,1,2]]]);
//# sourceMappingURL=main.16b42745.chunk.js.map