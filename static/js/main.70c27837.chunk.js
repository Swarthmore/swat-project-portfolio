(this["webpackJsonpswat-project-portfolio"]=this["webpackJsonpswat-project-portfolio"]||[]).push([[0],{367:function(e){e.exports=JSON.parse('{"a":"0.0.2"}')},717:function(e,t,n){},718:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(18),o=n(15),i=n(104),s=(n(394),n(395),n(396),n(397),n(102)),d={userProfile:"users",useFirestoreForProfile:!0},j={name:"Projects @ Swarthmore"},l=n(13),u=n(164),b=Object(s.b)({firebase:l.firebaseReducer,firestore:u.firestoreReducer});i.a.initializeApp(Object(o.a)(Object(o.a)({},{apiKey:"AIzaSyDyQLHfX6av-b8p1BkvZiAR6W387AqdmT4",authDomain:"swart-project-portfolio.firebaseapp.com",projectId:"swart-project-portfolio",storageBucket:"swart-project-portfolio.appspot.com",messagingSenderId:"418686934766",appId:"1:418686934766:web:8064a0a8c9bb5f20de5dff",measurementId:"G-7HCHCYKQFS"}),d)),i.a.firestore(),i.a.analytics();var p=Object(s.c)(b,{}),O=n(27),h=n(747),f=Object(h.a)((function(e){return{root:{flexGrow:1},content:{display:"flex",flexGrow:1,background:e.palette.background.paper},children:{flexGrow:1,padding:e.spacing(4)}}})),x=n(755),m=n(756),v=n(107),g=n(30),y=n(360),w=n.n(y),k=n(752),S=n(786),C=n(4);function N(){var e=Object(l.useFirebase)(),t=Object(O.g)();return Object(C.jsx)(S.a,{title:"Logout of app",children:Object(C.jsx)(k.a,{color:"inherit","aria-label":"Logout of app",component:"span",onClick:function(){e.logout().then((function(){t.push("/")}))},children:Object(C.jsx)(w.a,{})})})}var D=n(361),P=n.n(D);function F(){var e=Object(g.b)((function(e){return e.firebase.auth})),t=Object(O.g)();return e.uid?Object(C.jsx)(S.a,{title:"View Profile",children:Object(C.jsx)(k.a,{color:"inherit","aria-label":"View Profile",component:"span",onClick:function(){return t.push("/manage")},children:Object(C.jsx)(P.a,{})})}):Object(C.jsx)(C.Fragment,{children:"no uid"})}var B=Object(h.a)((function(e){return{title:{flexGrow:1,cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),L=n(788),M=n(32),G=Object(r.createContext)({isOn:!1,toggle:function(){}}),T=function(e){var t=e.children,n=window.matchMedia("(prefers-color-scheme: dark)").matches,c=Object(r.useState)(n),a=Object(M.a)(c,2),o=a[0],i=a[1];return Object(C.jsx)(G.Provider,{value:{isOn:o,toggle:function(){i(!o)}},children:t})},I=n(753),A=n(754),W=Object(h.a)((function(e){return{root:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},on:{fontWeight:"bold",color:"#ffffff"},off:{fontWeight:"lighter",color:"#dedede"}}}));function E(){var e=W(),t=Object(r.useContext)(G),n=t.isOn,c=t.toggle;return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)("span",{className:n?e.off:e.on,children:"Light"}),Object(C.jsx)(L.a,{checked:n,onChange:c,icon:Object(C.jsx)(I.a,{}),checkedIcon:Object(C.jsx)(A.a,{})}),Object(C.jsx)("span",{className:n?e.on:e.off,children:"Dark"})]})}var R=function(){var e=Object(g.b)((function(e){return e.firebase.auth})),t=B(),n=Object(O.g)();return Object(C.jsx)(x.a,{position:"static",children:Object(C.jsxs)(m.a,{children:[Object(C.jsx)(v.a,{variant:"h6",className:t.title,color:"inherit",onClick:function(){return n.push("/")},children:j.name}),Object(C.jsx)(E,{}),Object(l.isLoaded)(e)&&!Object(l.isEmpty)(e)&&Object(C.jsx)(F,{}),Object(l.isLoaded)(e)&&!Object(l.isEmpty)(e)&&Object(C.jsx)(N,{})]})})},z=n(757),U=n(758),q=n(759),H=n(760),V=Object(h.a)((function(e){return{root:{position:"absolute",top:"20px",right:"20px",width:"400px",background:e.palette.background.paper,zIndex:100}}}));var Y=function(){var e=Object(l.useFirebase)(),t=V();return Object(C.jsxs)(z.a,{className:t.root,children:[Object(C.jsx)(U.a,{title:j.name}),Object(C.jsx)(q.a,{children:Object(C.jsx)(H.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){return e.login({provider:"google",type:"popup"})},children:"Sign in with Google"})})]})},J=n(789),K=n(790),Q=n(761),_=Object(h.a)((function(e){return{root:{width:300,minWidth:300,borderRight:"1px solid #ccc",minHeight:"100vh"}}}));function X(){Object(l.useFirestoreConnect)([{collection:"teams"}]);var e=Object(g.b)((function(e){return e.firestore.ordered})).teams;return{loaded:Object(l.isLoaded)(e),teams:e}}function Z(){return{uid:Object(g.b)((function(e){return e.firebase.auth})).uid}}var $="/single-project/:id",ee="/projects/by-team/:id",te="/manage",ne=Object(h.a)((function(e){return{root:{width:"100%",textAlign:"right",color:e.palette.text.secondary}}}));function re(){var e=ne();return Object(C.jsx)("div",{className:e.root,children:"\u25cf"})}var ce=function(){var e=_(),t=Object(O.g)(),n=Object(O.h)().pathname,r=Z().uid,c=X(),a=c.teams,o=c.loaded;if(!r)return Object(C.jsx)("div",{children:"Not logged in"});var i=n.split("/").pop();return o?Object(C.jsx)("div",{className:e.root,children:Object(C.jsxs)(J.a,{children:[a.map((function(e){return Object(C.jsxs)(K.a,{onClick:function(){return n=e.id,void t.push(ee.replace(":id",n));var n},children:[i===e.id?Object(C.jsx)("strong",{children:e.name}):e.name,i===e.id&&Object(C.jsx)(re,{})]},e.id)})),Object(C.jsx)(Q.a,{style:{marginTop:"5px",marginBottom:"5px"}}),Object(C.jsxs)(K.a,{onClick:function(){t.push(ee.replace(":id","all"))},children:["all"===i?Object(C.jsx)("strong",{children:"All Projects"}):"All Projects","all"===i&&Object(C.jsx)(re,{})]}),Object(C.jsx)(Q.a,{style:{marginTop:"5px",marginBottom:"5px"}}),r&&Object(C.jsxs)("div",{children:[Object(C.jsxs)(K.a,{onClick:function(){t.push("/projects/add")},children:["add"===i?Object(C.jsx)("strong",{children:"Add Project"}):"Add Project","add"===i&&Object(C.jsx)(re,{})]}),Object(C.jsxs)(K.a,{onClick:function(){t.push(te)},children:["manage"===i?Object(C.jsx)("strong",{children:"My Projects"}):"My Projects","manage"===i&&Object(C.jsx)(re,{})]})]})]})}):Object(C.jsx)(C.Fragment,{children:"Loading"})},ae=n(784),oe=n(783),ie=Object(r.createContext)({snack:{type:"error",msg:"",open:!1},setSnack:function(){}}),se=function(e){var t=e.children,n=Object(r.useState)({type:"error",msg:"",open:!1}),c=Object(M.a)(n,2),a=c[0],o=c[1];return Object(C.jsx)(ie.Provider,{value:{snack:a,setSnack:o},children:t})};function de(){var e=Object(r.useContext)(ie);return{snack:e.snack,setSnack:e.setSnack}}var je=function(e){var t=e.children,n=f(),r=Z().uid,c=de(),a=c.snack,o=c.setSnack,i=function(){return o({open:!1,msg:"",type:""})};return Object(C.jsxs)("div",{className:n.root,children:[!r&&Object(C.jsx)(Y,{}),Object(C.jsx)(R,{}),Object(C.jsxs)("div",{className:n.content,children:[r&&Object(C.jsx)(ce,{}),Object(C.jsx)("div",{className:n.children,children:t})]}),a.open&&Object(C.jsx)(ae.a,{open:a.open,autoHideDuration:5e3,onClose:function(){return i()},children:Object(C.jsx)(oe.a,{elevation:6,variant:"filled",severity:a.type,onClose:function(){return i()},children:a.msg})})]})},le=Object(h.a)((function(e){return{root:{}}}));var ue={path:"/",component:function(){return le(),Z().uid?Object(C.jsx)(O.a,{to:"projects/by-team/all"}):Object(C.jsx)("div",{children:"Login to view projects"})}},be=Object(h.a)((function(e){return{root:{}}}));var pe={component:function(){var e=be();return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)("p",{children:"404"})})}},Oe=Object(h.a)((function(e){return{root:{flexGrow:1,width:"100%"},row:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},cardGrid:{display:"flex",flexDirection:"row"},gridItem:{display:"flex",flexGrow:1}}})),he=n(770);function fe(e){var t=e.title;return Object(C.jsxs)(v.a,{variant:"h4",gutterBottom:!0,children:[t," Projects"]})}var xe=n(69),me=n(791),ve=n(768),ge=n(769),ye=Object(h.a)((function(e){return{root:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%"},actions:{display:"flex",background:e.palette.background.paper},content:{flexGrow:1},updateDate:{flexGrow:1},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),we=n(767),ke=n(364),Se=n.n(ke);function Ce(e){var t=new Date(+e);return"".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}var Ne=n(41),De=n.n(Ne),Pe=n(68),Fe=n(785),Be=n(764),Le=n(765),Me=n(766),Ge=Object(h.a)((function(e){return{root:{flexGrow:1}}})),Te=n(362),Ie=n.n(Te),Ae=n(363),We=n.n(Ae),Ee=n(762);function Re(e){var t=e.children,n=Object(xe.a)(e,["children"]);return Object(C.jsx)(Ie.a,Object(o.a)({plugins:[We.a],children:t,components:{a:function(e){return Object(C.jsx)(Ee.a,Object(o.a)(Object(o.a)({},e),{},{color:"secondary"}))}}},n))}var ze=n(782),Ue=Object(h.a)((function(e){return{root:{marginBottom:e.spacing(2)},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function qe(e){var t=e.onSubmit,n=c.a.useState(""),r=Object(M.a)(n,2),a=r[0],o=r[1],i=Ue();return Object(C.jsxs)("div",{className:i.root,children:[Object(C.jsx)(ze.a,{value:a,onChange:function(e){o(e.target.value.slice(0,300))},fullWidth:!0,variant:"filled",label:"Share an update about this project",color:"secondary"}),Object(C.jsx)(H.a,{className:i.button,color:"primary",variant:"contained",onClick:function(){return function(e){try{t(e),o("")}catch(n){console.error(n)}}(a)},disabled:a.length<5,children:"Post Update"})]})}var He=n(371);function Ve(e){var t=e.project,n=e.open,c=e.handleClose,a=Object(xe.a)(e,["project","open","handleClose"]),i=Ge(),s=Object(r.useRef)(null),d=Z().uid,j=t.meta.ownedBy===d,u=de().setSnack,b=Object(l.useFirestore)();Object(r.useLayoutEffect)((function(){if(n){var e=s.current;e&&e.focus()}}),[n]);var p=function(){var e=Object(Pe.a)(De.a.mark((function e(n){var r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={value:n,createdOn:Date.now().toString(),createdBy:d},e.next=4,b.update("projects/".concat(t.id),{updates:He.a.firestore.FieldValue.arrayUnion(r)});case 4:u({msg:"Status update posted",type:"success",open:!0}),c(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u({msg:e.t0.toString(),type:"error",open:!0}),c();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(Fe.a,Object(o.a)(Object(o.a)({className:i.root,scroll:"paper",open:n,onClose:c},a),{},{children:[Object(C.jsx)(Be.a,{children:t.name}),Object(C.jsxs)(Le.a,{children:[Object(C.jsx)("div",{children:j&&Object(C.jsx)(qe,{onSubmit:p})}),t.markdown&&Object(C.jsx)(Re,{children:t.markdown})]}),Object(C.jsx)(Me.a,{children:Object(C.jsx)(H.a,{color:"secondary",onClick:c,children:"Close"})})]}))}function Ye(e){return Object(C.jsx)(S.a,{title:"Read More",children:Object(C.jsx)(k.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(C.jsx)(we.a,{})}))})}function Je(e){var t=e.tooltipMsg,n=Object(xe.a)(e,["tooltipMsg"]);return Object(C.jsx)(S.a,{title:t,children:Object(C.jsx)(k.a,Object(o.a)(Object(o.a)({},n),{},{children:Object(C.jsx)(Se.a,{})}))})}function Ke(e){var t,n,c,a=e.project,i=Object(xe.a)(e,["project"]),s=ye(),d=(Object(O.g)(),Object(r.useState)(!1)),j=Object(M.a)(d,2),l=j[0],u=j[1],b=Object(r.useState)(!1),p=Object(M.a)(b,2),h=p[0],f=p[1],x=function(e){return new Date(parseInt(e)).toLocaleDateString()},m=a.updates&&a.updates.length>0?(c=Array.from(a.updates),Array.from(c).sort((function(e,t){return+t.createdOn-+e.createdOn}))):[],g=m[0];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ve,{project:a,open:h,handleClose:function(){return f(!1)}}),Object(C.jsxs)(z.a,Object(o.a)(Object(o.a)({className:s.root},i),{},{children:[Object(C.jsx)(U.a,{title:a.name,subheader:"".concat(a.meta.createdBy.displayName," on ").concat(x(a.meta.createdOn)),avatar:Object(C.jsx)(me.a,{src:a.meta.createdBy.avatarUrl})}),Object(C.jsx)(q.a,{className:s.content,children:g&&Object(C.jsx)(v.a,{variant:"body2",children:g.value})}),Object(C.jsxs)(ve.a,{className:s.actions,children:[Object(C.jsx)(Ye,{onClick:function(){return f(!0)}}),g&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(v.a,{className:s.updateDate,variant:"caption",align:"center",color:"textSecondary",children:x(g.createdOn)}),a.updates&&(null===(t=a.updates)||void 0===t?void 0:t.length)>0&&Object(C.jsx)(Je,{className:l?s.expand:s.expandOpen,onClick:function(){return u(!l)},tooltipMsg:"".concat(a.updates.length," more update").concat(a.updates.length>1?"s":"")})]})]}),a.updates&&(null===(n=a.updates)||void 0===n?void 0:n.length)>0&&Object(C.jsx)(ge.a,{in:l,timeout:"auto",unmountOnExit:!0,children:m.map((function(e){return Object(C.jsxs)(q.a,{children:[Object(C.jsx)(v.a,{variant:"h6",children:x(e.createdOn)}),Object(C.jsx)(v.a,{variant:"body2",children:e.value})]},e.value)}))})]}))]})}var Qe={path:ee,component:function(e){var t=Oe(),n=Object(O.i)().id,r=X(),c=r.teams,a=r.loaded,i=Object(O.h)().pathname,s=[{child:"meta.createdBy",root:"users"}];Object(l.useFirestoreConnect)([Object(o.a)({collection:"projects",populates:s},n?["meta.createdBy.team","==",n]:{})]);var d=Object(g.b)((function(e){return Object(l.populate)(e.firestore,"projects",s)}));if(!Object(l.isLoaded)(d)||!a)return Object(C.jsx)("div",{children:"Loading..."});if(Object(l.isEmpty)(d))return Object(C.jsx)("div",{children:"No projects found"});var j=Object.keys(d).map((function(e){return Object(o.a)({id:e},d[e])})).filter((function(e){return"all"===n?e:e.meta.createdBy.team===n})),u="all"===i.split("/").pop()?"All":c.filter((function(e){return e.id===n}))[0].name||"Unknown";return Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsx)(fe,{title:u}),0===j.length&&Object(C.jsx)(v.a,{variant:"subtitle1",children:"This team doesn't have any projects posted yet"}),j.length>0&&Object(C.jsx)(he.a,{container:!0,spacing:3,children:j.map((function(e){return Object(C.jsx)(he.a,{item:!0,lg:3,className:t.gridItem,children:Object(C.jsx)(Ke,{project:e})},e.id)}))})]})}},_e=Object(h.a)((function(e){return{root:{maxWidth:"500px",flexGrow:1},form:{display:"flex",flexDirection:"column"},field:{marginTop:e.spacing(1)},mdButton:{transition:"all 0.2s ease",marginTop:e.spacing(1)},button:{marginTop:e.spacing(2),maxWidth:200},markdown:{border:"1px dashed #ccc",boxSizing:"border-box",padding:e.spacing(1),marginTop:e.spacing(1)}}})),Xe=n(781);function Ze(e){var t=Object(r.useState)(e),n=Object(M.a)(t,2),c=n[0],a=n[1];return{value:c,setValue:function(){return a},reset:function(e){return a(e||"")},bind:{value:c,onChange:function(e){e.target?a(e.target.value):Date.parse(e)&&a(e.toISOString())}}}}var $e=Object(h.a)((function(e){return{root:{marginTop:e.spacing(2),maxWidth:300}}}));function et(e){var t=e.label,n=Object(xe.a)(e,["label"]),r=$e();return Object(C.jsx)(H.a,Object(o.a)(Object(o.a)({size:"large",variant:"contained",type:"submit",color:"primary",className:r.root},n),{},{children:t}))}var tt="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet";var nt={path:"/projects/add",component:function(){var e=c.a.useState(!1),t=Object(M.a)(e,2),n=t[0],r=t[1],a=Object(l.useFirestore)(),i=Object(g.b)((function(e){return e.firebase.auth})),s=_e(),d=de().setSnack,j=Object(O.g)(),u=Ze(""),b=u.value,p=u.bind,h=u.reset,f=Ze(""),x=f.value,m=f.bind,y=f.reset,w=Ze(new Date(Date.now()).toISOString()),k=w.value,S=w.bind,N=w.reset,D=Ze(""),P=D.value,F=D.bind,B=D.reset;function L(e){return a.collection("projects").add(e)}function G(){h(void 0),y(void 0),N(void 0),B(void 0)}function T(){return(T=Object(Pe.a)(De.a.mark((function e(t){var n,r,c;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=i.uid.toString(),r={name:b,description:x,markdown:P,deadline:k,meta:{ownedBy:n,createdBy:n,createdOn:Date.now().toString()},updates:[]},e.prev=3,e.next=6,L(r);case 6:c=e.sent,G(),d({type:"success",msg:"Project created success",open:!0}),j.push($.replace(":id",c.id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),d({type:"error",msg:e.t0.toString(),open:!0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}return Object(C.jsxs)("div",{className:s.root,children:[Object(C.jsx)(v.a,{variant:"h3",children:"Add Project"}),Object(C.jsxs)("form",{className:s.form,onSubmit:function(e){return T.apply(this,arguments)},children:[Object(C.jsx)(ze.a,Object(o.a)({color:"secondary",className:s.field,label:"Enter a name for your project",variant:"filled",required:!0},p)),Object(C.jsx)(ze.a,Object(o.a)({color:"secondary",className:s.field,label:"Give your project a short description",variant:"filled",required:!0},m)),Object(C.jsx)(Xe.a,Object(o.a)({label:"Project Deadline",className:s.field,format:"MM/DD/yyyy",disablePast:!0},S)),n?Object(C.jsxs)("div",{className:s.field,children:[Object(C.jsx)(v.a,{variant:"caption",gutterBottom:!0,children:"Markdown Preview"}),Object(C.jsx)(Re,{children:P}),Object(C.jsx)(H.a,{fullWidth:!0,size:"large",variant:"contained",onClick:function(){r(!1)},children:"Edit"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:s.field,children:[Object(C.jsx)("label",{children:"Tell us about your project. You can use Markdown, but keep it under 400 characters"}),Object(C.jsx)("br",{}),Object(C.jsx)(Ee.a,{href:tt,target:"_blank",color:"secondary",children:"Markdown Cheat Sheet"}),Object(C.jsx)(ze.a,Object(o.a)({className:s.field,fullWidth:!0,label:"Markdown description",rows:10,rowsMax:10,color:"secondary",variant:"filled",multiline:!0},F))]}),Object(C.jsx)(H.a,{size:"large",variant:"contained",onClick:function(){r(!0)},disabled:n,children:"Preview Markdown"})]}),Object(C.jsx)(et,{label:"Submit"})]})]})}},rt=n(771),ct=n(236),at=n(772),ot=n(773),it=n(774),st=n(775),dt=n(776),jt=n(365),lt=n.n(jt),ut=n(366),bt=n.n(ut),pt=Object(h.a)((function(e){return{root:{flexGrow:1},descriptionCell:{flexGrow:1}}}));var Ot={path:"/manage",component:function(){var e=Object(r.useState)({open:!1,project:null}),t=Object(M.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),o=Object(M.a)(a,2),i=(o[0],o[1],Object(O.g)()),s=Object(l.useFirestore)(),d=Z().uid,j=pt(),u=de().setSnack;Object(l.useFirestoreConnect)([{collection:"projects",where:["meta.createdBy","==",d],storeAs:"ownedProject"}]);var b=Object(g.b)((function(e){return e.firestore.ordered.ownedProject}));if(!Object(l.isLoaded)(b))return Object(C.jsx)(C.Fragment,{children:"Loading..."});if(Object(l.isEmpty)(b))return Object(C.jsx)(C.Fragment,{children:"You have no projects"});var p=function(){var e=Object(Pe.a)(De.a.mark((function e(t,n){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),confirm("WARNING: This action is permanent. Click OK to proceed.")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,s.collection("projects").doc(n.id).delete();case 7:u({msg:"Project deleted",type:"success",open:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u({msg:e.t0.toString(),type:"error",open:!0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[n.project&&Object(C.jsx)(Ve,{project:n.project,handleClose:function(){c({open:!1,project:null})},open:n.open}),Object(C.jsx)(rt.a,{component:ct.a,className:j.root,children:Object(C.jsxs)(at.a,{children:[Object(C.jsx)(ot.a,{children:Object(C.jsxs)(it.a,{children:[Object(C.jsx)(st.a,{children:"Name"}),Object(C.jsx)(st.a,{children:"Description"}),Object(C.jsx)(st.a,{children:"Deadline"}),Object(C.jsx)(st.a,{children:"Created"}),Object(C.jsx)(st.a,{children:"Actions"})]})}),Object(C.jsx)(dt.a,{children:b.map((function(e){return Object(C.jsxs)(it.a,{children:[Object(C.jsx)(st.a,{children:Object(C.jsx)(H.a,{onClick:function(){return function(e){c({open:!0,project:e})}(e)},children:e.name})}),Object(C.jsx)(st.a,{className:j.descriptionCell,children:e.description.length>100?e.description.substr(0,100)+"...":e.description}),Object(C.jsx)(st.a,{children:e.deadline&&new Date(e.deadline).toLocaleDateString()}),Object(C.jsx)(st.a,{children:Ce(e.meta.createdOn)}),Object(C.jsxs)(st.a,{children:[Object(C.jsx)(k.a,{onClick:function(t){return function(e,t){e.preventDefault(),i.push("/projects/edit/".concat(t.id))}(t,e)},children:Object(C.jsx)(lt.a,{})}),Object(C.jsx)(k.a,{onClick:function(t){return p(t,e)},children:Object(C.jsx)(bt.a,{})})]})]},e.id)}))})]})})]})}},ht=Object(h.a)((function(e){return{root:{maxWidth:"500px",flexGrow:1},form:{display:"flex",flexDirection:"column"},field:{marginTop:e.spacing(1)},mdButton:{transition:"all 0.2s ease",marginTop:e.spacing(1)},button:{marginTop:e.spacing(1)},preview:{border:"1px dashed #ccc",boxSizing:"border-box",padding:e.spacing(1),marginTop:e.spacing(1)},updates:{marginTop:e.spacing(2)},markdown:{border:"1px dashed #ccc",boxSizing:"border-box",padding:e.spacing(1),marginTop:e.spacing(1)}}}));var ft={path:"/projects/edit/:id",component:function(){var e=Object(O.i)(),t=Object(O.g)(),n=Object(l.useFirestore)(),c=de().setSnack;e.id||t.push("/");var a=ht(),i=Object(r.useState)(!1),s=Object(M.a)(i,2),d=s[0],j=s[1],u=[{child:"meta.createdBy",root:"users"}],b=e.id;Object(l.useFirestoreConnect)([{collection:"projects",populates:u,doc:b}]);var p=Object(g.b)((function(e){return Object(l.populate)(e.firestore,"projects",u)}));if(!Object(l.isLoaded)(p))return Object(C.jsx)("div",{children:"Loading..."});if(Object(l.isEmpty)(p))return Object(C.jsx)("div",{children:"Project is empty"});var h=Ze(p[e.id].name),f=h.value,x=h.bind,m=h.reset,y=Ze(p[e.id].description),w=y.value,k=y.bind,S=y.reset,N=Ze(p[e.id].deadline),D=N.value,P=N.bind,F=N.reset,B=Ze(p[e.id].markdown),L=B.value,G=B.bind,T=B.reset;function I(){m(void 0),S(void 0),F(void 0),T(void 0)}function A(){return(A=Object(Pe.a)(De.a.mark((function r(a){var o;return De.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),o={name:f,description:w,markdown:L,deadline:D},r.prev=2,r.next=5,n.update("projects/".concat(e.id),o);case 5:I(),c({msg:"Project updated",type:"success",open:!0}),t.push(te),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),c({msg:r.t0.toString(),type:"error",open:!0});case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))).apply(this,arguments)}var W=function(){var r=Object(Pe.a)(De.a.mark((function r(a){var o;return De.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o={updates:n.FieldValue.arrayRemove(a)},confirm("WARNING: This action is permanent. Proceed?")){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,n.update({collection:"projects",doc:e.id},o);case 7:c({msg:"Status update deleted",type:"success",open:!0}),t.push("/"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),c({msg:r.t0.toString(),type:"error",open:!0});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:a.root,children:[Object(C.jsx)(v.a,{variant:"h3",gutterBottom:!0,children:"Edit Project"}),Object(C.jsxs)("form",{className:a.form,onSubmit:function(e){return A.apply(this,arguments)},children:[Object(C.jsx)(ze.a,Object(o.a)({color:"secondary",className:a.field,label:"Enter a name for your project",variant:"filled",required:!0},x)),Object(C.jsx)(ze.a,Object(o.a)({color:"secondary",className:a.field,label:"Give your project a short description",variant:"filled",required:!0},k)),Object(C.jsx)(Xe.a,Object(o.a)({className:a.field,format:"MM/DD/yyyy"},P)),d?Object(C.jsxs)("div",{className:a.field,children:[Object(C.jsx)(v.a,{variant:"caption",gutterBottom:!0,children:"Markdown Preview"}),Object(C.jsx)(Re,{children:L}),Object(C.jsx)(H.a,{fullWidth:!0,size:"large",variant:"contained",onClick:function(){j(!1)},children:"Edit"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ee.a,{href:tt,target:"_blank",color:"secondary",children:"Markdown Cheat Sheet"}),Object(C.jsx)(ze.a,Object(o.a)({color:"secondary",className:a.field,label:"Project Markdown",rows:"10",rowsMax:"10",variant:"filled",multiline:!0,fullWidth:!0},G)),Object(C.jsx)(H.a,{size:"large",variant:"contained",onClick:function(){j(!0)},disabled:d,children:"Preview Markdown"})]}),Object(C.jsx)(et,{label:"Save"})]}),Object(C.jsxs)("div",{className:a.updates,children:[Object(C.jsx)(v.a,{variant:"h5",gutterBottom:!0,children:"Updates"}),0===p[e.id].updates.length&&Object(C.jsx)(v.a,{children:"You haven't posted any updates to this project yet"}),p[e.id].updates.map((function(e,t){return Object(C.jsxs)(z.a,{children:[Object(C.jsxs)(q.a,{children:[Object(C.jsx)(v.a,{variant:"subtitle1",children:Ce(e.createdOn)}),Object(C.jsx)(v.a,{children:e.value})]}),Object(C.jsx)(ve.a,{children:Object(C.jsx)(H.a,{onClick:function(){return W(e)},children:"Delete"})})]},t)}))]})]})}};var xt=function(e){var t=e.children,n=Object(g.b)((function(e){return e.firebase.auth})),r=Object(l.useFirebase)(),c=Object(O.g)(),a=de().setSnack;return Object(l.isLoaded)(n)?(Object(l.isLoaded)(n)&&n.email&&(/@swarthmore.edu\s*$/.test(n.email)||r.logout().then((function(){a({type:"error",msg:"User email must be part of the @swarthmore.edu domain",open:!0}),c.push("/")}))),t):Object(C.jsx)(C.Fragment,{children:"Loading..."})};var mt=n(367),vt=n(780),gt=n(39),yt=n(35),wt=n(368),kt=n(370),St=n(779),Ct=n(172),Nt=n(173),Dt=n(777),Pt=n(778),Ft=function(e){return Object(kt.a)(e?{palette:{type:"dark",primary:Dt.a,secondary:Pt.a}}:{palette:{type:"light",primary:Ct.a,secondary:Nt.a}})},Bt=function(e){var t=e.children,n=Object(r.useContext)(G).isOn;return Object(C.jsx)(St.a,{theme:Ft(n),children:t})};var Lt=function(e){var t=e.store,n=e.routes,r={firebase:i.a,config:d,dispatch:t.dispatch,createFirestoreInstance:u.createFirestoreInstance};return Object(C.jsx)(g.a,{store:t,children:Object(C.jsx)(l.ReactReduxFirebaseProvider,Object(o.a)(Object(o.a)({},r),{},{children:Object(C.jsx)(T,{children:Object(C.jsx)(Bt,{children:Object(C.jsx)(se,{children:Object(C.jsx)(yt.a,{utils:wt.a,children:Object(C.jsxs)(gt.a,{children:[Object(C.jsx)(vt.a,{}),n]})})})})})}))})},Mt=(n(717),document.getElementById("root"));a.render(Object(C.jsx)(Lt,{store:p,routes:Object(C.jsx)(je,{children:Object(C.jsx)(xt,{children:Object(C.jsxs)(O.d,{children:[Object(C.jsx)(O.b,{exact:!0,path:ue.path,component:ue.component}),[nt,ft,Qe,Ot].map((function(e,t){return Object(C.jsx)(O.b,Object(o.a)({},e),t)})),Object(C.jsx)(O.b,{component:pe.component})]})})})}),Mt);var Gt=[j.name,mt.a].join(" ");window.document.title=Gt}},[[718,1,2]]]);
//# sourceMappingURL=main.70c27837.chunk.js.map